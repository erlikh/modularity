<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>kevgo/modularity @ GitHub</title>
  <link rel="stylesheet" href="index.css" type="text/css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
  <script type="text/javascript" src="jquery.tooltip.pack.js"></script>
  <script type="text/javascript" src="https://raw.github.com/kevgo/modularity/master/javascripts/modularity.js"></script>
  <script type="text/javascript" src="index.js"></script>
</head>
<body>
  <a href="http://github.com/kevgo/modularity"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/kevgo/modularity/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/kevgo/modularity/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/kevgo/modularity">modularity</a>
      <span class="small">by <a href="http://github.com/kevgo">kevgo</a></span></h1>

    <div class="description">
      A lightweight object-oriented JavaScript framework  that allows to compose functionally rich web pages  in a clean and testable manner out of cleanly separated and reusable components. It is built on top of jQuery and allows to compress the code using  Google's closure compiler in advanced mode.
    </div>

    <h2>Authors</h2>
<p>Kevin Goslar (kevin.goslar@gmail.com)
<br/>      </p>

    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/kevgo/modularity/zipball/master">zip</a> or
      <a href="http://github.com/kevgo/modularity/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre>$ git clone git://github.com/kevgo/modularity</pre>
    </p>

    <h2>Philosophy and Design Principles</h2>
    
    <table class="philosophy">
      <tr>
        <th>General Purpose</th>
        <td>
          Modularity doesn't aim to facilitate a particular functionality through magic. 
          It provides a general-purpose foundation for solid hand-written JavaScript code.
        </td>
      </tr>
      <tr>
        <th>Pragmatism</th>
        <td>
          Modularity combines simplified patterns from Google's Closure Library 
          and the sophisticated Closure compiler
          with the popular jQuery ecosystem.
        </td>
      </tr>
      <tr>
        <th>Modularity</th>
        <td>
          Web pages are broken up into functionally and spatially distinct sections. 
          Each section is managed by a JavaScript object (module) that encapsulates the 
          data, DOM nodes, event handlers, and helper methods for that section. 
          Modules provide high-level APIs and interact with each other through events.
        </td>
      </tr>
      <tr>
        <th>Reusability</th>
        <td>
          Modularity allows to break down complex functionality into generic modules, 
          which if coded cleanly can be reused in a several contexts.
        </td>
      </tr>
      <tr>
        <th>Testability</th>
        <td>
          Because widgets cleanly represent code as dedicated methods, they can be tested in isolation, 
          for example using the powerful <a href="http://pivotal.github.com/jasmine">Jasmine testing framework</a>.
          DOM interactions can be tested by providing a simulated module container in the test fixtures.
        </td>
      </tr>
      <tr>
        <th>Interoperability</th>
        <td>
          The JavaScript based on Modularity stands on it's own and can be combined with any other 
          JavaScript library and backend technology like Ruby on Rails, Node.js, PHP, Java, .NET etc.
        </td>
      </tr>
    </table>

    <h2>Example</h2>
    <div class="demo">
      <fieldset class="container">
        <legend>container</legend>
        <table>
          <tr>
            <td><button class="button">button</button></td>
            <td><div class="display">display</div></td>
          </tr>
        </table>
      </fieldset>
    </div>
    <p>
    Each module has a container. The container is the DOM element which contains all the elements 
    of the module. The container is provided to the module when it is constructed. Identifying or creating the inner structure of the
    container is responsibility of the module itself. </p>
    <p>On the right is an example module. It contains a button and a div with the class "display".
    The module's function is to simply show the number of times the button was clicked on the display element.<p>
    <p>Below is the source code of this module. Corresponding colors are highlighted. 
      Please hover over sections of the source code to see details about it.</p>

    <div class="code_sample">
      <div class="hoverable" title="Defines this JavaScript object for the Closure Compiler">goog.provide('click_counter');</div>
      <div class="hoverable" title="The JavaScript objects that this module depends on.<br>These objects are loaded before this object.">goog.require('root');</div>
      <div class="hoverable" title="Constructor of the module.<br><br>Notice that the JsDoc describes the purpose of this module<br>as well as the parameters.<br><br>See http://code.google.com/closure/compiler/docs/js-for-compiler.html<br>for details.">
/**
 * Displays how often the button got clicked.
 *
 * <span style="color:red">@param {jQueryObject} container The container element</span>
 * <span style="color:red">for the click counter section of the page. This div is</span>
 * <span style="color:red">expected to contain a DOM element with the class 'display'</span>
 * <span style="color:red">to be used as the display for the count and a DOM element with</span>
 * <span style="color:red">the class 'button' which is listened to for clicks.</span>
 * @constructor
 */
var ClickCounter = function(<span style="color:red">container</span>) {</div>
      <div class="hoverable" title="This line makes this instance a module.">
  // Make this object a module.
  modularity.widgetize(this, <span style="color: red">container</span>);</div>
      <div class="hoverable" title="Stores the DOM element of the button in an instance variable.<br>This allows to access the DOM comfortably and performantly<br>using a proper name.">
  <span style="color: blue">/**</span>
<span style="color: blue">   * The display element for the number of clicks.</span>
<span style="color: blue">   * @type jQueryObject</span>
<span style="color: blue">   */</span>
<span style="color: blue">  this.display = <span style="color: red">container</span>.find('.display');</span></div>
      <div class="hoverable" title="Attaching an event handler to an DOM element.">
<span style="color: green">  // Listen to clicks on the button.</span>
<span style="color: green">  <span style="color: red">container</span>.find('.button').click(this.callback(this.button_clicked));</span></div>
      <div class="hoverable" title="Defines an data instance variable.">
  /**
   * How many times has the button been clicked already?
   * @type {number}
   */
  this.current_clicks = 0;</div>
      <div>};</div>
      <div class="hoverable" title="An event handler.<br><br>Because the value of 'this' was bound using 'this.callback()',<br>it can access properties of this module instance.">
/**
 * Called when the button element is clicked.
 */
ClickCounter.prototype.button_clicked = function() {

  // Count this click.
  this.current_clicks++;

  // Update the display.
  this.display.html(ClickCounter.display_html(this.current_clicks));
};
      </div>
      <div class="hoverable" title="A helper method for massaging data.<br><br>Good candidate for unit testing.">
/**
 * Updates the display element with the current click count.
 * @param {number} count The number of times the button has been clicked.
 */
ClickCounter.display_html = function(count) {
  if (count === 0) {
    return "Please click on the button!";
  } elseif (count === 1) {
    return "Please click again";
  } else {
    return "You clicked this button "+this.current_clicks+" times.";
};    
      </div>
    </div>
    <h2>Testing</h2>
    <p>The source comes with tools written in Ruby as examples. These example tools are not necessary, 
    they illustrate the workflow how to test and compress modularity code. Feel free to adapt this part
    to your own environment and setup.</p>
    <p>
    To run the tests for the demo code, please run <pre>rake jasmine</pre></p>

    <h2>Compiling</h2>
    To compile the demo code, please run <pre>rake compile_demo</pre>
    
    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/kevgo/modularity">kevgo/modularity</a>
    </div>
  </div>
</body>
</html>
